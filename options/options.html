<html>
<head>
<title>Selection Search - Options</title>
<link type="text/css" rel="stylesheet" href="options.css" />
<script src="../common/jquery-2.1.4.min.js"></script>
<script src="../background/storage.js"></script>
<script src="../popup/style.js"></script>
<script src="../popup/positioning.js"></script>
<script src="../popup/popup.js"></script>
<script src="../popup/button.js"></script>
<script src="../templates/options.js"></script>
<script src="reorder.js"></script>
<script src="hotkeys.js"></script>
<script src="options.js"></script>

</head>
<body>

<div id="content">

<h1 id="main-heading">Selection Search Options</h1>


<h2 class="section-heading">Search engines</h2>
<p class="info">The search url must start with http:// and contain the special string <strong>%s</strong> which will be replaced with the selected text.
<br />Searches that uses the POST method must contain a <strong>{POSTARGS}</strong> separator with the post arguments added after it, like this:
http://example.com/search/<strong>{POSTARGS}</strong>q=<strong>%s</strong>&amp;type=123. <a href="#" id="show-more-variables">More Variables</a>

</p>
<div id="more-variables" class="info">
<strong>Example url:</strong> https://chrome.google.com/webstore/detail/gipnlpdeieaidmmeaichnddnmjmcakoe?key1=value1&key2=value2
<dl>
	<dt>%PAGE_HOST</dt>
		<dd>The hostname and port of the current page. (chrome.google.com)</dd>
<!--	<dt>%PAGE_HOSTNAME</dt>
		<dd>The hostname of the current page. (chrome.google.com)</dd>-->
<!--	<dt>%PAGE_DOMAIN</dt>
		<dd>The domain of the current page. (google.com)</dd>-->
	<dt>%PAGE_URL</dt>
		<dd>The entire URL of the current page. (https://chrome.google.com/webstore/detail/gipnlpdeieaidmmeaichnddnmjmcakoe)</dd>
<!--	<dt>%PAGE_PATH</dt>
		<dd>The path name of the current page. (/webstore/detail/gipnlpdeieaidmmeaichnddnmjmcakoe)</dd>-->
	<dt>%PAGE_ORIGIN</dt>
		<dd>The protocol and hostname of the current page. (https://chrome.google.com)</dd>

	<dt>%PAGE_QUERY_STRING</dt>
		<dd>The query string of the current page (key1=value1&key2=value2)</dd>

	<dt>%PAGE_QS_VAR(name)</dt>
		<dd>A query string variable from the current page (%PAGE_QS_VAR(key1) == value1)</dd>
</dl>

<strong>For Icon url:</strong>
<dl>
	<dt>CURRENT_DOMAIN</dt>
		<dd>If icon url is set to "CURRENT_DOMAIN" the favicon from the current domain will be used.</dd>
</dl>

<strong>Search url:</strong>
<dl>
	<dt>COPY</dt>
		<dd>If the search url is set to "COPY" the selcetion will be copied to the clipboard.</dd>

	<dt>{%+s}</dt>
		<dd>Using <strong>{%+s}</strong> as a placeholder will replace spaces in the selection with +</dd>
</dl>
</div>


<table id="engines">
	<tr class="drag-stop">
		<th></th>
		<th>Name</th>
		<th>Search url</th>
		<th>Icon url</th>
		<th></th>
		<th>Delete</th>
	</tr>
</table>
<p class="buttons"><input type="button" value="Add New Search Engine"  id="new-engine" /> <input type="button" value="Add New Submenu"  id="new-folder" /> <input type="button" value="Add New Separator"  id="new-separator" /></p>


<h2 class="section-heading">Find Search Engines</h2>

<p class="info">
<strong>CTRL+ALT + click:</strong><br />
You can add new engines by finding a form and holding down <strong>CTRL</strong>+<strong>ALT</strong> on the keyboard and clicking inside the input where you would type you search query. <br />
A popup should open where you can edit and save the search engine. This works for a lot of searches, but sometimes it doesn't work.


<br /><br />
<strong>mycroftproject.com:</strong><br />
With the form below you can search for new search engines at mycroftproject.com. Look for this icon: <span id="search-icon"></span> in the search result and click it to add an engine.
The search page must be completely loaded before the icon will show.
Previously opened tabs must be reloaded to show the new engines.</p>

<form id="find-engines" action="http://mycroftproject.com/search-engines.html" method="get">
	<input type="text" name="name" placeholder="Search for new search engines" size="40" />
	<input type="hidden" name="opensearch" value="yes" />
	<input type="submit" value="Search mycroftproject.com" />
</form>







<h2 class="section-heading" id="activator_heading">Popup Menu</h2>

<div class="section">

<select id="select_activator"></select>

<div class="activator_options" id="activator_click">
	<p>The menu is activated by clicking on the selection with the mouse button you choose below.</p>
	<p class="section-option"><label for="opt-button0">Left click:</label> <input id="opt-button0" type="radio" value="0" name="button" /> <label for="opt-button1">Middle click:</label> <input id="opt-button1" type="radio" value="1" name="button" /></p>
</div>

<div class="activator_options" id="activator_auto">
	<p>A small button will appear when some text is selected and <br />you can open the menu by moving the mouse over the button.<p>
    <p>
    <input type="checkbox" id="auto_popup_relative_to_mouse" /> <label for="auto_popup_relative_to_mouse">Position the button relative to the mouse cursor.</label>
    </p>
    <p>When placed relative to the mouse cursor the button will appear to the top right of the cursor.
     If you want to tweak the position this can be done with some custom css under "Advanced settings".</p>
</div>



<div class="activator_options" id="activator_k_and_m">

	<p>The menu is activated by holding the keyboard combination you have choosen and clicking anywhere with the mouse button you have selected.</p>

	<p>

	<input type="text" id="k_and_m_keys" /> +
	<select id="k_and_m_button">
		<option value="0">Left click</option>
		<option value="1">Middle click</option>
		<option value="2">Right click</option>
	</select>
	</p>

	<div id="hotkey_info" style="display: none;">The names that are shown of the keys that are pressed isn't always correct, but it should still work correctly.</div>
</div>


<div class="activator_options" id="activator_combo">
    <p>(Select the other activators to set the options for each activator.)</p> 
    <p><input type="checkbox" name="activator_combo" value="click" id="combo_click"> <label for="combo_click">Mouse Click</label></p>
    <p><input type="checkbox" name="activator_combo" value="auto" id="combo_auto"> <label for="combo_auto">Auto</label></p>
    <p><input type="checkbox" name="activator_combo" value="k_and_m" id="combo_k_and_m"> <label for="combo_k_and_m">Keyboard+Mouse</label></p>
</div>


	<a href="#" id="show-advanced-popup-opts">Advanced Settings</a>

	<div id="popup-advanced-options">

	<h4 class="subsection-heading">Styling</h4>

	<p id="select_theme_container"><select id="select_theme"></select> <input type="button" id="show_customize" value="Customize" /></p>

	<h4 class="subsection-heading">Preview</h4>

	<table id="preview-table">
	<tr>
		<td><div id="preview"></div></td>
		<td valign="top"><div id="preview-button"></div></td>
	</tr>
	</table>


	<div id="customize">
		<div class="clearb"></div>

		<p class="info" id="style-info">Here you can customize the look of the menu with <a href="http://www.w3schools.com/css/default.asp">Cascading Style Sheets</a>.</p>

		<pre id="html">
    &lt;ul class="popup mainmenu"&gt;
        &lt;li&gt;&lt;input type="text" value="Selected Text" /&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href="#"&gt;&lt;img class="engine-img" src="#" /&gt;&lt;span class="engine-name"&gt;Search engine name&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
        &lt;li class="engine-separator"&gt;&lt;/li&gt;
        ...
        &lt;li&gt;&lt;a href="#"&gt;&lt;img class="engine-img" src="#" /&gt;&lt;span class="engine-name"&gt;Sub menu name&lt;/span&gt;&lt;/a&gt;
            &lt;ul class="popup submenu"&gt;
                &lt;li&gt;&lt;input type="text" value="Selected Text" /&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href="#"&gt;&lt;img class="engine-img" src="#" /&gt;&lt;span class="engine-name"&gt;Search engine name&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
                &lt;li class="engine-separator"&gt;&lt;/li&gt;
                ...
            &lt;/ul&gt;
        &lt;/li&gt;
    &lt;/ul&gt;

    &lt;div class="button"&gt;&lt;/div&gt;
		</pre>

		<textarea id="style"></textarea>
		<p class="buttons"><input id="update-preview" type="button" value="Update Preview" /> <input type="button" id="show_html" value="Show HTML" /></p>


	</div>


	<div class="clearb"></div>


	<h4 class="subsection-heading" id="head-remove-icons">Remove Icons:</h4>

	<div class="subsection">
		<p class="section-option"><label for="remove-icons-no">Always show icons:</label><input id="remove-icons-no" name="remove_icons" type="radio" value="no" /> &nbsp;<label for="remove-icons-all">Always remove icons:</label><input id="remove-icons-all" type="radio" name="remove_icons" value="all" /></p>

	</div>
<!-- 	<br /> -->
	<h4 class="subsection-heading" id="head-show-in-input">Show in inputs and textareas:</h4>

	<div class="subsection">
		<p class="info">
		Enable this if you want to be able to select some text in an input or textarea and do a search.
		To show the popup you first have to select some text and then hold <strong>CTRL</strong> and click inside the input or textarea.
		When you use the auto activator you click with the left button, with the mouse activator you use the button you have chosen in the options.
		</p>
		<p class="section-option"><label for="opt-show-in-inputs">Show in inputs and textareas:</label> <input id="opt-show-in-inputs" type="checkbox" name="show_in_inputs" /></p>

	</div>

	<h4 class="subsection-heading" id="head-hide-on-click">Close popup after click:</h4>
	<div class="subsection">
		<p class="info">
		Enable this if you want the popup to close after you click a search engine.
		</p>
		<p class="section-option"><label for="opt-hide-on-click">Close popup after click:</label> <input id="opt-hide-on-click" type="checkbox" name="hide-on-click" /></p>

	</div>


	<h4 class="subsection-heading" id="head-show-on-double-click">Open on double click:</h4>
	<div class="subsection">
		<p class="info">
		Enable this if you want the popup to open when you double click to select a word.
		</p>
		<p class="section-option"><label for="opt-open-on-dblclick">Open on double click:</label> <input id="opt-open-on-dblclick" type="checkbox" name="open-on-dblclick" /></p>

	</div>

	<h4 class="subsection-heading" id="head-disable-effects">Disable effects:</h4>
	<div class="subsection">
		<p class="info">
		Enable this if you want to disable javascript effects. E.g. fading in/out effect when the popup appears.
		This has no effect on CSS-effects added using custom styling.
		</p>
		<p class="section-option"><label for="opt-disable-effects">Disable effects:</label> <input id="opt-disable-effects" type="checkbox" name="disable-effects" /></p>

	</div>

	</div>

</div>












<h2 class="section-heading">Context Menu</h2>
<div class="section">
<select id="contextmenu_option"></select>

<div id="contextmenu_active">
	<p>The search engines will be shown in the context menu when you right click on the selected text.
	This option has som limits, the icons will not be shown and you can only click on one menu item before the menu closes.</p>
</div>

</div>



<h2 class="section-heading">Synchronization</h2>
<div class="section">


	<p class="info">When sync is enabled your search engines and settings will be synchronized between chrome browsers on different computers.
	 Individual search engines can be excluded from sync in the wrench menu next to the search engines.</p>


<p class="section-option"><label for="opt-sync-engines">Sync search engines </label><input id="opt-sync-engines" type="checkbox" name="sync-engines" /></p>

<p class="section-option"><label for="opt-sync-settings">Sync settings </label><input id="opt-sync-settings" type="checkbox" name="sync-settings" /></p>


<p class="section-option"><label for="opt-sync-style">Sync popup menu style</label><input id="opt-sync-style" type="checkbox" /></p>


<p class="info warning">If you have multiple browsers with different settings and search engines you have to be careful when enabling the sync
	options. Because the last browser that enables sync will overwrite the previous ones.</p>


</div>



<h2 class="section-heading">Other Options</h2>
<div class="section">
<p class="section-option"><label for="opt-newtab">Open search in new tab:</label><input id="opt-newtab" type="checkbox" name="newtab" /></p>

<p class="section-option"><label for="opt-background-tab">Open search in background tab:</label><input id="opt-background-tab" type="checkbox" name="background_tab" /> <span class="separate-menus-msg">(only useful if "Open search in new tab" is checked above, or when opening multiple tabs at once from e.g. opening all searches in a folder)</span></p>

<p class="section-option"><label for="opt-open-new-tab-last">Open new tabs in last position:</label><input id="opt-open-new-tab-last" type="checkbox" name="open_new_tab_last" /> <span class="separate-menus-msg">(Only affectes searches from the context menu, the popup uses chromes default beavior and will not be affected by this option. By default the new tab will open next to the current tab.)</span></p>


<p class="section-option"><label for="opt-separate-engines">Separate search engines for Popup and Context Menu:</label><input id="opt-separate-engines" type="checkbox" /> &nbsp;<span id="wrap-edit-separate-engines">(Click the wrench next to the search engines to edit.)</span></p>

<p class="section-option"><label for="opt-disable-extractform">Disable <strong style="font-size: 85%;">CTRL+ALT+click</strong> shortcut for adding search engines:</label><input id="opt-disable-extractform" type="checkbox" /> (It can sometimes be buggy so if you don't use it you can disable it.)</p>

</div>







<h2 class="section-heading" id="export-import">Export / Import settings: <a href="#" id="export-settings-link">export</a> / <a href="#" id="import-settings-link">import</a></h2>

<div id="export-settings">

	<p class="info">Copy the data from the textarea below and store it somewhere, it can later be imported to restore your settings. <br />
		You need to save your settings before you export. Any changes that has not been saved will not be exported.</p>

	<ul>
		<li><strong>Include:</strong>
			<ul>
			<li><input type="checkbox" id="export-search-engines" checked /><label for="export-search-engines">Search engines</label></li>
			<li><input type="checkbox" id="export-style" checked /><label for="export-style">Styling</label></li>
			<li><input type="checkbox" id="export-options" checked /><label for="export-options">Other settings</label></li>
			</ul>
		</li>
<!-- 		<li><label for="encode-output"><strong>Encode output</strong></label> <input id="encode-output" type="checkbox"></li> -->
	</ul>
	<textarea rows="8"></textarea>

</div>

<div id="import-settings">

	<p class="info">Paste the data you have previously exported into the textarea below and select the options you want to import and click the import button.</p>
	</p>

	<ul>
		<li><strong>Import:</strong>
			<ul>
			<li><input type="checkbox" id="import-search-engines" /><label for="import-search-engines">Search engines</label>
				<ul id="import-replace-engines-opt">
					<li><input type="checkbox" id="import-replace-engines" /> <label for="import-replace-engines">Replace existing search engines</label></li>
				</ul>
			</li>
			<li><input type="checkbox" id="import-style" /><label for="import-style">Styling</label></li>
			<li><input type="checkbox" id="import-options" /><label for="import-options">Other settings</label></li>
			<li><input type="button" id="import-submit" value="Import" /></li>
			</ul>
		</li>
<!-- 		<li><label for="encode-output"><strong>Encode output</strong></label> <input id="encode-output" type="checkbox"></li> -->
	</ul>
	<textarea rows="8"></textarea>
</div>

<!-- <h2 class="section-heading">Save</h2> -->

<p class="buttons" id="save-buttons"><input type="button" id="save" value="Save" /> <input type="button" id="restore" value="Restore defaults" /></p>




<div class="clearb"></div>
</div>



<textarea class="theme_def" name="Default" id="theme_1"></textarea>

<textarea class="theme_def" name="Icons only" id="theme_2">
.popup .engine-name, .popup.mainmenu > li:first-child{
 display: none;
}
.popup a, .popup li{
 display: inline-block; padding: 0.2em;
}
.popup img{
 margin: 0; padding: 0;
}
.popup {
 width: auto;
 padding: 0.1em;
 white-space:nowrap;
}
.popup .engine-separator{
 width: 1px; height: 20px; margin: 0 3px; padding: 0; vertical-align: middle;
}
/*CONFIG_START{"submenu_position":"topright","submenu_corner":"bottomleft"}CONFIG_END*/
</textarea>


<textarea class="theme_def" name="No selection" id="theme_3">
.popup li:first-child{
 display: none;
}
</textarea>


<textarea class="theme_def" name="Rounded gradient" id="theme_4">
.popup {
 background: -webkit-gradient(linear, left top, left bottom, from(#E0DFDC), to(#B9B8B6));
 -webkit-border-radius: 5px;
}
.popup a:hover, .popup a.active{
 background: #E0DFDD;
}
</textarea>

<textarea class="theme_def" name="Transparent" id="theme_5">
.popup {
 opacity: 0.9;
}
</textarea>

<textarea class="theme_def" name="Dark" id="theme_6">
.popup{
 background: #303030;
 border: 1px solid #D1D1D1;
 -webkit-border-radius: 6px;
 -webkit-box-shadow: 0px 1px 5px #979797
}
.popup a, .popup li, .popup .engine-name, .popup input{
 color: #DDDDDD;
}
.popup a:hover, .popup a.active{
 background: #595959;
}
</textarea>

<textarea class="theme_def" name="Animations" id="theme_7">
.popup{
 width: 13em;
 -webkit-border-radius: 8px;
}
.popup img{
 -webkit-border-radius: 8px;
 -webkit-transition: all 0.2s ease-in;
}
.popup a:hover img{
 -webkit-border-radius: 2px;
 -webkit-box-shadow: 1px 1px 3px #303030;
  -webkit-transform: rotate(360deg) scale(1.5);
 margin-right: 10px;
}
.popup a{
 -webkit-transition: all 0.2s ease-in;
}
.popup a:hover{
 font-weight: bold;
}
</textarea>

<textarea class="theme_def" name="Animations 2" id="theme_8">
.popup .engine-name, .popup.mainmenu > li:first-child{
 display: none;
}
.popup a, .popup li{
 display: inline-block; padding: 0.2em;
}
.popup img{
 margin: 0; padding: 0;
}
.popup {
 width: auto;
 padding: 0.1em 0.2em;
 -webkit-border-radius: 5px;
 white-space:nowrap;
}
.popup img{
 -webkit-border-radius: 8px;
 -webkit-transition: all 0.2s ease-in;
}
.popup a:hover img{
 -webkit-border-radius: 2px;
 -webkit-box-shadow: 1px 1px 3px #303030;
  -webkit-transform: rotate(360deg) scale(1.5);
 margin-right: 3px;
}
.popup a{
 -webkit-transition: all 0.2s ease-in;
}
.popup a:hover{
 font-weight: bold;
 background: none;
}
.popup .engine-separator{
 width: 1px; height: 20px; margin: 0 3px; padding: 0; vertical-align: middle;
}
/*CONFIG_START{"submenu_position":"topright","submenu_corner":"bottomleft"}CONFIG_END*/
</textarea>

<!-- The is used to check if someone with an older version of the extension have changed the stylesheet.
 This cant be removed after a while when everybody have updgraded -->
<textarea id="old-default-style" style="display: none;">
.popup{
 width: 12em;
 position: absolute;
 background: #EDECEC;
 border: solid 1px #AEAAA7;
 padding: 0.3em 0.3em;
 font-size: 9pt;
 margin: 0;
 list-style-type: none;
 -webkit-box-shadow: 0px 1px 10px #ccc;
}
.popup li{
 margin: 1px 0;
 padding: 0;
 text-align: left;
 color: #202020;
}
.popup img{
 width: 16px;
 height: 16px;
 vertical-align: middle;
 border:none;
 margin: 0;
 margin-right: 4px;
}
.popup li:first-child {
 overflow: hidden;
 text-overflow:ellipsis;
 white-space:nowrap;
 border-bottom: solid 1px #AEAAA7;
 margin-bottom: 0.5em;
 padding: 0.2em 0.8em;
}
.popup a{
 margin: 1px;
 text-decoration: none;
 color: #202020;
 display: block;
 padding: 0.2em 0.8em;
 -webkit-border-radius: 3px;
}
.popup a:hover{
 background: #96B8E1;
}

</textarea>


</body>
</html>
